{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/runner/work/watchparty/watchparty/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./UserMenu.css';import{Popup,Button}from'semantic-ui-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UserMenu=function UserMenu(_ref){var user=_ref.user,socket=_ref.socket,userToManage=_ref.userToManage,trigger=_ref.trigger,displayName=_ref.displayName,position=_ref.position,disabled=_ref.disabled;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var handleOpen=function handleOpen(){return setIsOpen(true);};var handleClose=function handleClose(){return setIsOpen(false);};return/*#__PURE__*/_jsxs(Popup,{className:\"userMenu\",trigger:trigger,on:\"click\",open:isOpen,onOpen:handleOpen,onClose:handleClose,position:position,disabled:disabled,children:[/*#__PURE__*/_jsx(\"div\",{className:\"userMenuHeader\",children:displayName}),/*#__PURE__*/_jsx(\"div\",{className:\"userMenuContent\",children:/*#__PURE__*/_jsx(Button,{content:\"Kick\",negative:true,icon:\"ban\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return user===null||user===void 0?void 0:user.getIdToken();case 2:token=_context.sent;socket.emit('kickUser',{userToBeKicked:userToManage,uid:user===null||user===void 0?void 0:user.uid,token:token});setIsOpen(false);case 5:case\"end\":return _context.stop();}}},_callee);}))})})]});};","map":{"version":3,"sources":["/home/runner/work/watchparty/watchparty/src/components/UserMenu/UserMenu.tsx"],"names":["React","useState","Popup","Button","UserMenu","user","socket","userToManage","trigger","displayName","position","disabled","isOpen","setIsOpen","handleOpen","handleClose","getIdToken","token","emit","userToBeKicked","uid"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,gBAAP,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,mBAA9B,C,wFAIA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAiBlB,IAhBJC,CAAAA,IAgBI,MAhBJA,IAgBI,CAfJC,MAeI,MAfJA,MAeI,CAdJC,YAcI,MAdJA,YAcI,CAbJC,OAaI,MAbJA,OAaI,CAZJC,WAYI,MAZJA,WAYI,CAXJC,QAWI,MAXJA,QAWI,CAVJC,QAUI,MAVJA,QAUI,CACJ,cAA4BV,QAAQ,CAAC,KAAD,CAApC,wCAAOW,MAAP,eAAeC,SAAf,eACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAMD,CAAAA,SAAS,CAAC,IAAD,CAAf,EAAnB,CACA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMF,CAAAA,SAAS,CAAC,KAAD,CAAf,EAApB,CACA,mBACE,MAAC,KAAD,EACE,SAAS,CAAC,UADZ,CAEE,OAAO,CAAEL,OAFX,CAGE,EAAE,CAAC,OAHL,CAIE,IAAI,CAAEI,MAJR,CAKE,MAAM,CAAEE,UALV,CAME,OAAO,CAAEC,WANX,CAOE,QAAQ,CAAEL,QAPZ,CAQE,QAAQ,CAAEC,QARZ,wBAUE,YAAK,SAAS,CAAC,gBAAf,UAAiCF,WAAjC,EAVF,cAWE,YAAK,SAAS,CAAC,iBAAf,uBACE,KAAC,MAAD,EACE,OAAO,CAAC,MADV,CAEE,QAAQ,KAFV,CAGE,IAAI,CAAC,KAHP,CAIE,OAAO,sEAAE,mKACaJ,CAAAA,IADb,SACaA,IADb,iBACaA,IAAI,CAAEW,UAAN,EADb,QACDC,KADC,eAEPX,MAAM,CAACY,IAAP,CAAY,UAAZ,CAAwB,CACtBC,cAAc,CAAEZ,YADM,CAEtBa,GAAG,CAAEf,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEe,GAFW,CAGtBH,KAAK,CAALA,KAHsB,CAAxB,EAKAJ,SAAS,CAAC,KAAD,CAAT,CAPO,sDAAF,EAJT,EADF,EAXF,GADF,CA8BD,CAnDM","sourcesContent":["import React, { useState } from 'react';\nimport './UserMenu.css';\nimport { Popup, Button } from 'semantic-ui-react';\nimport { Socket } from 'socket.io-client';\nimport firebase from 'firebase/compat/app';\n\nexport const UserMenu = ({\n  user,\n  socket,\n  userToManage,\n  trigger,\n  displayName,\n  position,\n  disabled,\n}: {\n  user?: firebase.User;\n  socket: Socket;\n  userToManage: string;\n  trigger: any;\n  icon?: string;\n  displayName?: string;\n  position?: any;\n  disabled: boolean;\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const handleOpen = () => setIsOpen(true);\n  const handleClose = () => setIsOpen(false);\n  return (\n    <Popup\n      className=\"userMenu\"\n      trigger={trigger}\n      on=\"click\"\n      open={isOpen}\n      onOpen={handleOpen}\n      onClose={handleClose}\n      position={position}\n      disabled={disabled}\n    >\n      <div className=\"userMenuHeader\">{displayName}</div>\n      <div className=\"userMenuContent\">\n        <Button\n          content=\"Kick\"\n          negative\n          icon=\"ban\"\n          onClick={async () => {\n            const token = await user?.getIdToken();\n            socket.emit('kickUser', {\n              userToBeKicked: userToManage,\n              uid: user?.uid,\n              token,\n            });\n            setIsOpen(false);\n          }}\n        />\n      </div>\n    </Popup>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}